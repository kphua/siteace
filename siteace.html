<head>
  <title>siteace</title>
</head>

<body>

</body>

<template name="ApplicationLayout">
  {{> yield "navbar"}}
  {{> yield "main"}}
</template>

<template name="navbar">
	<!-- navbar  - you will be putting the login functions here -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<a class="navbar-brand" href="#">Site Ace</a>
			<p class="navbar-text navbar-right">
				{{> loginButtons align="right"}}
			</p>
		</div>  <!-- / nav container -->
	</nav>
</template>

<template name="websites">
	<div class="container top-margin">
		{{> website_form}}
		{{> website_list}}
	</div>
</template>

<template name="website">
	<div class="container top-margin">
		{{> website_detail}}
	</div>
</template>

<template name="website_form">
	{{isLoggedIn}}
	{{#if currentUser}}
		<a class="btn btn-default js-toggle-website-form" href="#">
	  		<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
		</a>
	{{/if}}
	<div id="website_form" class="hidden_div">
		<form class="js-save-website-form">
		  <div class="form-group">
		    <label for="url">Site address</label>
		    <input type="url" class="form-control" id="url" placeholder="http://www.mysite.com" required>
		  </div>
		  <div class="form-group">
		    <label for="title">Title</label>
		    <input type="text" class="form-control" id="title" placeholder="Mysite" required>
		  </div>
		    <div class="form-group">
		    <label for="description">Description</label>
		    <input type="text" class="form-control" id="description" placeholder="I found this site really useful for ..." required>
		  </div>

		  <button type="submit" class="btn btn-default">Submit</button>
		</form>
	</div>
</template>

<!-- template that displays several website items -->
<template name="website_list">
	<ol>
	{{#each websites}}
	{{>website_item}}
	{{/each}}
	</ol>
</template>

<!-- template that displays individual website entries -->
<template name="website_item">
<li>
	<a href="{{url}}">{{title}}</a>
	<a class="align-right" href="/website/{{_id}}">View Details</a>
	<p>
		{{description}}
	</p>
	<p>
		Added On: {{moFormat createdOn 'ddd, DD MMM YYYY HH:MM'}} 路 Upvotes: {{upvotes}} 路 Downvotes: {{downvotes}}
	</p>
	{{isLoggedIn}}
	{{#if currentUser}}
		<a href="#" class="btn btn-default js-upvote">
			<span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
		</a>
		<a href="#" class="btn btn-default js-downvote">
			<span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
		</a>
	{{/if}}
	<!-- you will be putting your up and down vote buttons in here! -->
</li>
</template>

<!-- template that displays details of a selected website -->
<template name="website_detail">
	<a href="/">Back</a>
	<br />
	<br />
	<a href="{{url}}">{{title}}</a>
	<p>
		{{description}}
	</p>
	<p>
		Added On: {{moFormat createdOn 'ddd, DD MMM YYYY HH:MM'}} 路 Upvotes: {{upvotes}} 路 Downvotes: {{downvotes}}
	</p>
	<p>
		Comments
	</p>
	<p>
		{{> comment_form}}
	</p>

	{{#each comments}}
	{{> comment}}
	{{else}}
  	<p>No comments yet.</p>
	{{/each}}
</template>

<!-- template that displays individual comment of a selected website -->
<template name="comment">
	<div class="well">
		<strong>{{username}}</strong>
		<br />
		{{message}}
	</div>
</template>

<template name="comment_form">
	{{isLoggedIn}}
	{{#if currentUser}}
		<div id="comment_form">
			<form class="js-save-comment-form">
				<div class="input-group">
		      <input type="text" class="form-control" placeholder="Write a comment..." id="message">
		      <span class="input-group-btn">
		        <button type="submit" class="btn btn-success js-">Go!</button>
		      </span>
		    </div><!-- /input-group -->
			</form>
		</div>
		<br />
	{{/if}}
</template>
